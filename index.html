<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.1.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/13/Postman%E4%B9%8B%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/13/Postman%E4%B9%8B%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/" class="post-title-link" itemprop="url">Postman之常见接口请求</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-05-13 22:57:20 / Modified: 23:17:00" itemprop="dateCreated datePublished" datetime="2022-05-13T22:57:20+08:00">2022-05-13</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="Postman常见类型的接口请求"><a href="#Postman常见类型的接口请求" class="headerlink" title="Postman常见类型的接口请求"></a>Postman常见类型的接口请求</h4><h5 id="（一）不带参数的接口请求"><a href="#（一）不带参数的接口请求" class="headerlink" title="（一）不带参数的接口请求"></a>（一）不带参数的接口请求</h5><p>没有参数，只需要考虑请求方式+网址。</p>
<p>如天气预报接口，<a target="_blank" rel="noopener" href="http://t.weather.sojson.com/api/weather/city/101270101">http://t.weather.sojson.com/api/weather/city/101270101</a></p>
<p><img src="/2022/05/13/Postman%E4%B9%8B%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/image-20220513230134260.png"></p>
<h5 id="（二）带查询参数的接口请求"><a href="#（二）带查询参数的接口请求" class="headerlink" title="（二）带查询参数的接口请求"></a>（二）带查询参数的接口请求</h5><p>URL地址中问号后面的部分就叫查询参数，由键值对组成。</p>
<p>格式为：key1&#x3D;value1&amp;key2&#x3D;value2, 如果有多组键值对，要用&amp;隔开 。</p>
<p>请求方式是GET。</p>
<p><img src="/2022/05/13/Postman%E4%B9%8B%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/image-20220513230303839.png"></p>
<h5 id="（三）表单类型的接口请求"><a href="#（三）表单类型的接口请求" class="headerlink" title="（三）表单类型的接口请求"></a>（三）表单类型的接口请求</h5><p>客户端提交的数据是以表单形式提交的，在请求头中查看Content-Type，它的值如果是:application&#x2F;x-www-form-urlencoded .那么就说明是表单类型。</p>
<p>multipart&#x2F;form-data，它也属于一种表单类型，但它既支持表单请求，也支持文件上传。</p>
<p><img src="/2022/05/13/Postman%E4%B9%8B%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/image-20220513230531480.png"></p>
<h5 id="（四）json类型的接口请求"><a href="#（四）json类型的接口请求" class="headerlink" title="（四）json类型的接口请求"></a>（四）json类型的接口请求</h5><p>请求正文&#x2F;请求体类型为json。（<a target="_blank" rel="noopener" href="http://httpbin.org/%E6%8F%90%E4%BE%9B%E5%9C%A8%E7%BA%BF%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E6%9C%8D%E5%8A%A1%EF%BC%89">http://httpbin.org/提供在线接口测试服务）</a></p>
<ul>
<li><p>请求方法：POST</p>
</li>
<li><p>请求地址：<a target="_blank" rel="noopener" href="http://httpbin.org/post">http://httpbin.org/post</a></p>
</li>
<li><p>请求体类型：json</p>
</li>
<li><p>请求体数据：{“name”:”Tim”,”age”:12}</p>
<p><img src="/2022/05/13/Postman%E4%B9%8B%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/image-20220513230700462.png"></p>
</li>
</ul>
<hr>
<h4 id="接口请求代码"><a href="#接口请求代码" class="headerlink" title="接口请求代码"></a>接口请求代码</h4><p><img src="/2022/05/13/Postman%E4%B9%8B%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/image-20220513230817955.png"></p>
<p>如上图所示，可以生成接口请求代码</p>
<p><img src="/2022/05/13/Postman%E4%B9%8B%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/image-20220513230900168.png"></p>
<p>将以上代码复制到PyCharm中运行，可以得到如下运行结果</p>
<p><img src="/2022/05/13/Postman%E4%B9%8B%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/image-20220513231117209.png"></p>
<p>接口请求代码也可以自己写，以下代码也可以返回请求报文</p>
<p><img src="/2022/05/13/Postman%E4%B9%8B%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/image-20220513231216920.png"></p>
<h4 id="在控制台查看接口请求响应"><a href="#在控制台查看接口请求响应" class="headerlink" title="在控制台查看接口请求响应"></a>在控制台查看接口请求响应</h4><p>在Postman主界面左下角点Console</p>
<p><img src="/2022/05/13/Postman%E4%B9%8B%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/image-20220513231421271.png"></p>
<p>可以查看请求的响应状态码</p>
<p><img src="/2022/05/13/Postman%E4%B9%8B%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/image-20220513231538254.png"></p>
<p>还可以查看响应报头和响应正文</p>
<p><img src="/2022/05/13/Postman%E4%B9%8B%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/image-20220513231653265.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/" class="post-title-link" itemprop="url">Matplotlib库之数据集可视化</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-05-12 19:06:14 / Modified: 20:34:45" itemprop="dateCreated datePublished" datetime="2022-05-12T19:06:14+08:00">2022-05-12</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="Pandas库（Panel-Data-amp-Data-Analysis）"><a href="#Pandas库（Panel-Data-amp-Data-Analysis）" class="headerlink" title="Pandas库（Panel Data &amp; Data Analysis）"></a>Pandas库（Panel Data &amp; Data Analysis）</h4><ul>
<li>用于数据统计和分析</li>
<li>可以高效、方便地操作大型数据集</li>
</ul>
<p><strong>安装Pandas库</strong></p>
<p>进入Anaconda Prompt(Anaconda)，输入以下代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate pytorch</span><br></pre></td></tr></table></figure>

<p>激活Pytorch，然后输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pandas</span><br></pre></td></tr></table></figure>

<p>如果下载速度太慢可以换清华源下载</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pandas -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure>



<h4 id="Pandas库的简单使用"><a href="#Pandas库的简单使用" class="headerlink" title="Pandas库的简单使用"></a>Pandas库的简单使用</h4><h5 id="读取csv数据"><a href="#读取csv数据" class="headerlink" title="读取csv数据"></a><strong>读取csv数据</strong></h5><ul>
<li><p>文件名参数——filepath_or_buffer • </p>
<ul>
<li>pd.read_csv( filepath_or_buffer, header, names)</li>
</ul>
</li>
<li><p>二维数据表——DataFrame：是一种Pandas中常用的 数据类型</p>
</li>
</ul>
<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512192337419.png"></p>
<ul>
<li>设置列标题——header参数 <ul>
<li>pd.read_csv( filepath_or_buffer, header, names)</li>
</ul>
</li>
<li>header的取值是行号，行号从0开始 </li>
<li>header&#x3D;0，第1行数据做为列标题(默认设置) </li>
<li>header&#x3D;None, 没有列标题</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df_iris = pd.read_csv(&quot;iris.csv&quot;,herder=0)</span><br><span class="line">#读取前5行</span><br><span class="line">df_iris.head()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512192700565.png"></p>
<ul>
<li>header&#x3D;None，数据文件中没有表头</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df_iris = pd.read_csv(&quot;iris.csv&quot;, header=None)</span><br><span class="line">df_iris.head()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512192837227.png"></p>
<ul>
<li>设置列标题——names参数</li>
</ul>
<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512193104748.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">COLUMN_NAMES = [&quot;SepalLength&quot;,&#x27;SepalWidth&#x27;,&#x27;PetalLength&#x27;,&#x27;PetalWidth&#x27;,&#x27;Species&#x27;]</span><br><span class="line">df_iris = pd.read_csv(&quot;iris.csv&quot;, names=COLUMN_NAMES, header=0)</span><br><span class="line">df_iris.head()</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512193322483.png"></p>
<h5 id="访问数据"><a href="#访问数据" class="headerlink" title="访问数据"></a><strong>访问数据</strong></h5><ul>
<li>header()函数：读取前n行数据，参数为空时，默认读取二维数据表中的前5行数据</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_iris.head(8)</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512193454099.png"></p>
<ul>
<li>tail()函数：读取后n行数据</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_iris.tail(8)</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512193536173.png"></p>
<h5 id="索引和切片"><a href="#索引和切片" class="headerlink" title="索引和切片"></a><strong>索引和切片</strong></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris[0:6]</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512193725957.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris[0:6,0:4]</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512193804904.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iris_y=iris[:,4]</span><br><span class="line">iris_y</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512193848191.png"></p>
<p>使用索引和切片读取索引值为10-15的行</p>
<p><code>df_iris[10:16]</code></p>
<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512194000640.png"></p>
<p><strong>其他常用方法</strong></p>
<ul>
<li><p>显示统计信息 </p>
<ul>
<li><p>describe()方法：显示二维数据的统计信息</p>
<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512194337309.png"></p>
</li>
</ul>
</li>
<li><p>DataFrame的常用属性：ndim、size、shape</p>
<ul>
<li><p>ndim：数据表的维数</p>
</li>
<li><p>size：数据表元素的总个数</p>
</li>
<li><p>shape：数据表的形状</p>
<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512194252422.png"></p>
</li>
</ul>
</li>
<li><p>转化为NumPy数组 </p>
<ul>
<li><p>使用NumPy中的创建数组函数array() </p>
<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512194510443.png"></p>
</li>
<li><p>使用DataFrame中的values方法</p>
<p><code>iris=df_iris.values</code></p>
</li>
</ul>
</li>
</ul>
<h4 id="数据集可视化"><a href="#数据集可视化" class="headerlink" title="数据集可视化"></a>数据集可视化</h4><h5 id="波士顿房价数据集"><a href="#波士顿房价数据集" class="headerlink" title="波士顿房价数据集"></a><strong>波士顿房价数据集</strong></h5><p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512194625797.png"></p>
<p>（1）读取波士顿房价数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">#读取波士顿房价数据，前13列为特征，最后一列是target</span><br><span class="line">boston_housing = pd.read_csv(&quot;boston_house_prices.csv&quot;, header=0)</span><br><span class="line">print(boston_housing)</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512194948735.png"></p>
<p>（2）为了找出影响房价的主要因素，可以借助数据可视化方法<br>最简单的可视化方法就是借助散点图将每个属性与房价的关系表示出来<br>首先看看如何绘制单个属性与房价的散点图</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#转化为Numpy数组</span><br><span class="line">import numpy as np</span><br><span class="line">housing = np.array(boston_housing)</span><br><span class="line">#y为数据中的想要预测的目标数据</span><br><span class="line">target = housing[:,13]</span><br><span class="line">#x为数据中的13个特征数据的所有值</span><br><span class="line">features = housing[:, :13]</span><br></pre></td></tr></table></figure>

<p>（3）绘制散点图</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#平均房间数与房价之间的关系</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">plt.figure(figsize=(5,5))</span><br><span class="line">plt.scatter(features[:, 5], target)</span><br><span class="line">plt.xlabel(&quot;RM&quot;)</span><br><span class="line">plt.ylabel(&quot;Price($1000&#x27;s)&quot;)</span><br><span class="line">plt.title(&quot;5. RM-Price&quot;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512195147174.png"></p>
<p>可以看出平均房间数和房价的关系整体趋于房间数量越多，房价越高</p>
<p>（4）将所有属性与房价之间的关系可视化</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">plt.rcParams[&quot;font.family&quot;] = &quot;SimHei&quot;</span><br><span class="line">plt.rcParams[&quot;axes.unicode_minus&quot;] = False</span><br><span class="line"></span><br><span class="line">#设置标题字段</span><br><span class="line">titles = [&quot;CRIM&quot;, &quot;ZN&quot;, &quot;INDUS&quot;, &quot;CHAS&quot;, &quot;NOX&quot;, &quot;RM&quot;,&quot;AGE&quot;,</span><br><span class="line">          &quot;DIS&quot;,&quot;RAD&quot;,&quot;TAX&quot;,&quot;PTRATIO&quot;,&quot;B&quot;,&quot;LSTAT&quot;]</span><br><span class="line"></span><br><span class="line">#设置画布大小</span><br><span class="line">plt.figure(figsize=(12,12))</span><br><span class="line"></span><br><span class="line">#循环创建散点图</span><br><span class="line">#划分画布为4×4的子图</span><br><span class="line">for i in range(13):</span><br><span class="line">    plt.subplot(4,4,(i+1))</span><br><span class="line">    plt.scatter(features[:, i], target)</span><br><span class="line">    plt.xlabel(titles[i])</span><br><span class="line">    plt.ylabel(&quot;Price($1000&#x27;s)&quot;)</span><br><span class="line">    plt.title(str(i+1)+&quot;.&quot;+titles[i]+&quot;-Price&quot;)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.suptitle(&quot;各个属性与房价的关系&quot;, x=0.5, y=1.02, fontsize=20)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512195326774.png"></p>
<p>可以看出，一氧化碳浓度（NOX），平均房间数（RM），低收入人口比例（LSTAT）与房间有比较明显的关系，而其他一些属性对房价好像没有明显的影响。</p>
<h5 id="鸢尾花数据集"><a href="#鸢尾花数据集" class="headerlink" title="鸢尾花数据集"></a><strong>鸢尾花数据集</strong></h5><p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512194700096.png"></p>
<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512194758222.png"></p>
<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512194735960.png"></p>
<p>（1）读取鸢尾花数据集，数据集一共150个样本，4个属性，1个标签</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">COLUMN_NAMES = [&quot;SepalLength&quot;, &#x27;SepalWidth&#x27;, &#x27;PetalLength&#x27;, &#x27;PetalWidth&#x27;, &#x27;Species&#x27;]</span><br><span class="line">df_iris = pd.read_csv( &quot;iris.csv&quot;, names=COLUMN_NAMES, header=0)</span><br><span class="line">print(df_iris)</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512195534599.png"></p>
<p>（2）绘制花瓣长宽散点图， 横坐标是花瓣长度，列坐标是花瓣宽度</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#转化为Numpy数组</span><br><span class="line">import numpy as np</span><br><span class="line">iris=np.array(df_iris)</span><br><span class="line">#切片获得花瓣长度</span><br><span class="line">iris[:,2]</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512195835437.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#花瓣宽度</span><br><span class="line">iris[:,3]</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512195912875.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">plt.scatter(iris[:,2],iris[:,3])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512200011555.png"></p>
<p>虽然散点图被绘制出来，但是不同类型的鸢尾花并没有被区分开，我们希望不同种类的鸢尾花使用不同的颜色，使用鸢尾花的种类作为颜色映射的依据</p>
<p>（3）添加标题和坐标轴标签<br>标题中，换行显示对颜色的说明<br>蓝色是山鸢尾，红色是变色鸢尾，绿色代表维吉尼亚鸢尾<br>标签直接从列标题中得到</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(iris[:,2],iris[:,3],c=iris_y,cmap=&#x27;brg&#x27;)</span><br><span class="line">plt.title(&quot;Anderson&#x27;s Iris Data Set\n(Bule-&gt;Setosa | Red-&gt;Versicolor | Green-&gt;Virginica&quot;)</span><br><span class="line">plt.xlabel(COLUMN_NAMES[2])</span><br><span class="line">plt.ylabel(COLUMN_NAMES[3])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512200150189.png"></p>
<p>可以看出，花瓣最长、最短的是山鸢尾，花瓣最长、最宽的是维吉尼亚鸢尾，花瓣尺寸居中的是变色鸢尾，可视化后的数据更加直观，清晰。<br>使用花瓣长宽可以比较好的区分出鸢尾花，那么使用其他属性是否能够很好区分鸢尾花呢？</p>
<p>鸢尾花中有4个属性，将每个属性两两组合可以得到16种组合，这些组合中，有4个组合是每个属性和它本身进行组合，另外12种组合两两对称，如何要把16种组合绘制在一张图中，其实只有6种组合。<br>我们先来看看这个图的第一行的4个子图如何绘制。这4个子图的纵坐标都是iris数组种的第一个属性，索引值为0，横坐标依次取到索引值为0，1，2，3的属性。</p>
<p>（4）划分画布为一行四列的子图区域，循环绘制子图</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure(&#x27;Iris Data&#x27;, figsize=(15, 3))</span><br><span class="line">plt.suptitle(&quot;Anderson&#x27;s Iris Data Set\n(Bule-&gt;Setosa | Red-&gt;Versicolor | Green-&gt;Virginica&quot;)</span><br><span class="line">for i in range(4):</span><br><span class="line">    plt.subplot(1, 4, i+1)</span><br><span class="line">    #当i=0是，在绘图区域显示本行属性名</span><br><span class="line">    if(i==0):</span><br><span class="line">        plt.text(0.3,0.5,COLUMN_NAMES[0],fontsize=15)</span><br><span class="line">    else:</span><br><span class="line">        plt.scatter(iris[:,i],iris[:,0],c=iris_y,cmap=&#x27;brg&#x27;)</span><br><span class="line">   </span><br><span class="line">    plt.title(COLUMN_NAMES[i])</span><br><span class="line">    plt.ylabel(COLUMN_NAMES[0])</span><br><span class="line">#调整子图间距</span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512200323435.png"></p>
<p>接着绘制包含4×4子图的大图，只要将之前绘制一行子图的代码再循环执行4次即可。<br>第一层循环每次绘制一行子图，第二层循环每次绘制一行子图中的4个子图。 子图序号可以表示为4×i+(j+1)</p>
<p>（5）绘出所有子图，实现数据可视化</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure(&#x27;Iris Data&#x27;, figsize=(15, 15))</span><br><span class="line">plt.suptitle(&quot;Anderson&#x27;s Iris Data Set\n(Bule-&gt;Setosa | Red-&gt;Versicolor | Green-&gt;Virginica&quot;)</span><br><span class="line">for i in range(4):</span><br><span class="line">    for j in range(4):</span><br><span class="line">        plt.subplot(4, 4, 4*i+(j+1))</span><br><span class="line">        #当i=j时，在绘图区域输出当前属性的名称</span><br><span class="line">        if(i==j):</span><br><span class="line">            plt.text(0.3,0.4,COLUMN_NAMES[i],fontsize=15)</span><br><span class="line">        else:</span><br><span class="line">            plt.scatter(iris[:,j],iris[:,i],c=iris_y,cmap=&#x27;brg&#x27;)</span><br><span class="line">        if(i==0):</span><br><span class="line">            #子图标题输出当前横坐标的属性名称，作为所有行的横坐标标签</span><br><span class="line">            plt.title(COLUMN_NAMES[j])</span><br><span class="line">        if(j==0):</span><br><span class="line">            plt.ylabel(COLUMN_NAMES[i])</span><br><span class="line"></span><br><span class="line">#调整子图间距</span><br><span class="line">plt.tight_layout()          </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512200523688.png"></p>
<p>可以看出，通过花瓣花萼的属性的任何组合，都能够很容易地将山鸢尾和另外两种鸢尾花区分开来，而变色鸢尾和维吉尼亚鸢尾通过花瓣属性能够比较容易区分，通过花萼属性则不能明显区分。</p>
<h5 id="帕尔默企鹅数据集（一）"><a href="#帕尔默企鹅数据集（一）" class="headerlink" title="帕尔默企鹅数据集（一）"></a>帕尔默企鹅数据集（一）</h5><p>（1）读取数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import seaborn as sns</span><br><span class="line">df_penguins = pd.read_csv(&quot;penguins_size.csv&quot;)</span><br><span class="line">print(df_penguins.info())</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512200911805.png"></p>
<p>（2）数据可视化</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import seaborn as sns</span><br><span class="line">df_penguins = df_penguins.fillna(-1)</span><br><span class="line">df_penguins = df_penguins[[&#x27;species&#x27;,&#x27;island&#x27;,&#x27;culmen_length_mm&#x27;,&#x27;culmen_depth_mm&#x27;,&#x27;flipper_length_mm&#x27;,&#x27;body_mass_g&#x27;,&#x27;sex&#x27;]]</span><br><span class="line">sns.pairplot(data=df_penguins, diag_kind=&#x27;hist&#x27;,hue=&#x27;species&#x27;)</span><br><span class="line">plt.suptitle(&quot;penguins sorted by species&quot;)</span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512201012039.png"></p>
<h5 id="帕尔默企鹅数据集（二）"><a href="#帕尔默企鹅数据集（二）" class="headerlink" title="帕尔默企鹅数据集（二）"></a>帕尔默企鹅数据集（二）</h5><p>（1）读取数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">df_lter = pd.read_csv(&quot;penguins_lter.csv&quot;)</span><br><span class="line">print(df_lter.info())</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512201052274.png"></p>
<p>（2）数据可视化</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import seaborn as sns</span><br><span class="line">df_lter = df_lter.fillna(-1)</span><br><span class="line">df_lter = df_lter[[&#x27;Species&#x27;,&#x27;Island&#x27;,&#x27;Region&#x27;,&#x27;Culmen Length (mm)&#x27;,&#x27;Culmen Depth (mm)&#x27;,&#x27;Flipper Length (mm)&#x27;]]</span><br><span class="line">sns.pairplot(data=df_lter, diag_kind=&#x27;hist&#x27;,hue=&#x27;Region&#x27;)</span><br><span class="line">plt.suptitle(&quot;Penguins sorted by Region&quot;)</span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512201203075.png"></p>
<hr>
<h4 id="Jupyter-Notebook更改文件存储位置"><a href="#Jupyter-Notebook更改文件存储位置" class="headerlink" title="Jupyter Notebook更改文件存储位置"></a>Jupyter Notebook更改文件存储位置</h4><ol>
<li><p>找到配置文件</p>
<ul>
<li>打开Anaconda Prompt</li>
<li>输入<code>jupyter notebook --generate-config</code></li>
<li>根据显示的路径用记事本打开jupyter_notebook_config.py</li>
</ul>
<p>	</p>
</li>
<li><p>更改配置</p>
<ul>
<li>找到这行代码<code>#c.NotebookApp.notebook_dir = &#39;&#39;</code></li>
<li>去掉前面的”#”，在’ ‘中写入新的存放路径（路径不要出现中文，否则可能报错），修改完后保存退出</li>
</ul>
</li>
<li><p>修改Jupyter Notebook属性</p>
<ul>
<li><p>找到Jupyer Notebook图标，右键单击打开属性面板</p>
</li>
<li><p>属性面板中选择快捷方式，修改目标中的路径，将后面的”%USERPROFILE%&#x2F;“去掉，最后如下图所示</p>
<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512202622822.png"></p>
</li>
<li><p>重启Jupyter Notebook，可以看到文件存放的根目录已经更改为刚才修改的路径</p>
</li>
</ul>
</li>
</ol>
<h4 id="Jupyter-Notebook导出-py文件"><a href="#Jupyter-Notebook导出-py文件" class="headerlink" title="Jupyter Notebook导出.py文件"></a>Jupyter Notebook导出.py文件</h4><p>在Jupyter Notebook写完代码后发现文件后缀是.ipynb格式，想导出.py格式的文件，只需要</p>
<p><img src="/2022/05/12/Matplotlib%E5%BA%93%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%AF%E8%A7%86%E5%8C%96/image-20220512203305839.png"></p>
<p>如上图所示操作即可</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/11/Hexo%E5%9B%BE%E7%89%87%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/11/Hexo%E5%9B%BE%E7%89%87%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/" class="post-title-link" itemprop="url">Hexo图片显示问题解决</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-05-11 15:17:51 / Modified: 21:16:18" itemprop="dateCreated datePublished" datetime="2022-05-11T15:17:51+08:00">2022-05-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>测试图片能否正常显示</p>
<p><img src="/2022/05/11/Hexo%E5%9B%BE%E7%89%87%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/1.png"></p>
<p>解决方案：</p>
<ol>
<li><p>安装一个图片路径转换的插件</p>
<p>进入博客根目录下，然后输入以下安装命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install https://github.com/CodeFalling/hexo-asset-image  --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>下载完成后，在根目录中找到&#x2F;node_modules&#x2F;hexo-asset-image&#x2F;index.js，替换为以下代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&#x27;use strict&#x27;;</span><br><span class="line">var cheerio = require(&#x27;cheerio&#x27;);</span><br><span class="line"></span><br><span class="line">// http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-string</span><br><span class="line">function getPosition(str, m, i) &#123;</span><br><span class="line">  return str.split(m, i).join(m).length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var version = String(hexo.version).split(&#x27;.&#x27;);</span><br><span class="line">hexo.extend.filter.register(&#x27;after_post_render&#x27;, function(data)&#123;</span><br><span class="line">  var config = hexo.config;</span><br><span class="line">  if(config.post_asset_folder)&#123;</span><br><span class="line">    	var link = data.permalink;</span><br><span class="line">	if(version.length &gt; 0 &amp;&amp; Number(version[0]) == 3)</span><br><span class="line">	   var beginPos = getPosition(link, &#x27;/&#x27;, 1) + 1;</span><br><span class="line">	else</span><br><span class="line">	   var beginPos = getPosition(link, &#x27;/&#x27;, 3) + 1;</span><br><span class="line">	// In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;.</span><br><span class="line">	var endPos = link.lastIndexOf(&#x27;/&#x27;) + 1;</span><br><span class="line">    link = link.substring(beginPos, endPos);</span><br><span class="line"></span><br><span class="line">    var toprocess = [&#x27;excerpt&#x27;, &#x27;more&#x27;, &#x27;content&#x27;];</span><br><span class="line">    for(var i = 0; i &lt; toprocess.length; i++)&#123;</span><br><span class="line">      var key = toprocess[i];</span><br><span class="line"> </span><br><span class="line">      var $ = cheerio.load(data[key], &#123;</span><br><span class="line">        ignoreWhitespace: false,</span><br><span class="line">        xmlMode: false,</span><br><span class="line">        lowerCaseTags: false,</span><br><span class="line">        decodeEntities: false</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      $(&#x27;img&#x27;).each(function()&#123;</span><br><span class="line">		if ($(this).attr(&#x27;src&#x27;))&#123;</span><br><span class="line">			// For windows style path, we replace &#x27;\&#x27; to &#x27;/&#x27;.</span><br><span class="line">			var src = $(this).attr(&#x27;src&#x27;).replace(&#x27;\\&#x27;, &#x27;/&#x27;);</span><br><span class="line">			if(!/http[s]*.*|\/\/.*/.test(src) &amp;&amp;</span><br><span class="line">			   !/^\s*\//.test(src)) &#123;</span><br><span class="line">			  // For &quot;about&quot; page, the first part of &quot;src&quot; can&#x27;t be removed.</span><br><span class="line">			  // In addition, to support multi-level local directory.</span><br><span class="line">			  var linkArray = link.split(&#x27;/&#x27;).filter(function(elem)&#123;</span><br><span class="line">				return elem != &#x27;&#x27;;</span><br><span class="line">			  &#125;);</span><br><span class="line">			  var srcArray = src.split(&#x27;/&#x27;).filter(function(elem)&#123;</span><br><span class="line">				return elem != &#x27;&#x27; &amp;&amp; elem != &#x27;.&#x27;;</span><br><span class="line">			  &#125;);</span><br><span class="line">			  if(srcArray.length &gt; 1)</span><br><span class="line">				srcArray.shift();</span><br><span class="line">			  src = srcArray.join(&#x27;/&#x27;);</span><br><span class="line">			  $(this).attr(&#x27;src&#x27;, config.root + link + src);</span><br><span class="line">			  console.info&amp;&amp;console.info(&quot;update link as:--&gt;&quot;+config.root + link + src);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;else&#123;</span><br><span class="line">			console.info&amp;&amp;console.info(&quot;no src attr, skipped...&quot;);</span><br><span class="line">			console.info&amp;&amp;console.info($(this));</span><br><span class="line">		&#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      data[key] = $.html();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这一步的目的是为了中文路径转码时不报错</p>
</li>
<li><p>打开_config.yml文件，修改以下内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: true</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用hexo新建一个.md文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;Hexo图片显示问题解决&quot;</span><br></pre></td></tr></table></figure>

<p>此时会在_posts目录下出现一个同名的文件夹，里面存放同名blog中的图片</p>
</li>
<li><p>在文件夹中放一张图片</p>
<p><img src="/2022/05/11/Hexo%E5%9B%BE%E7%89%87%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/image-20220511210910954.png"></p>
</li>
<li><p>引用图片</p>
<p>注意：例如，有文件 a.md，需要插入图片 b.jpg，则需要将b.jpg放到同名文件夹a下，a与a.md在同一目录，a.md中的写法是</p>
</li>
</ol>
<p>因此，测试图片的路径在.md中正确写法是：</p>
<p><img src="/2022/05/11/Hexo%E5%9B%BE%E7%89%87%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/image-20220511211133975.png"></p>
<p>这样才可以在最后生成正确的图片链接。</p>
<hr>
<p>这个解决方法只能算是权宜之计，这样做确实能在本地预览中看到效果，但是本地的.md文件打开根本看不到图片，只能看到图片的路径。之前的blog本地打开查看倒是挺方便的，就是上传之后图片全部看不了。</p>
<p>难道就没有本地可以看，上传之后也能看的方案吗？改天有空再研究研究，感觉Hexo确实不如JekyII好用，至少JekyII就不用担心图片无法显示的问题。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">Fiddler抓包及Postman初步使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-05-11 13:27:21 / Modified: 20:57:19" itemprop="dateCreated datePublished" datetime="2022-05-11T13:27:21+08:00">2022-05-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="Fiddler抓包之抓不到包解决方法"><a href="#Fiddler抓包之抓不到包解决方法" class="headerlink" title="Fiddler抓包之抓不到包解决方法"></a>Fiddler抓包之抓不到包解决方法</h4><p>很久没打开Fiddler，打开之后只显示如下界面，无法捕捉到浏览器的页面。</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511143755659.png"></p>
<p>解决方法如下：</p>
<ol>
<li>检查设置，点击Tools—Options—HTTPS</li>
</ol>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511133847437.png"></p>
<p>全部勾选，然后点Actions，检查证书的安装</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511134049807.png"></p>
<p>按顺序依次点击，先Trust Root Certificate，然后Export Root Certificate to Desktop</p>
<p>然后点开浏览器的设置选项，找到隐私设置与安全选项—安全—管理证书</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511134314731.png"></p>
<p>找到导入选项，导入上一步中生成的证书（存放在Desktop），选完后点确认导入即可</p>
<ol start="2">
<li><p>检查过滤设置—Filters</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511134637935.png"></p>
</li>
</ol>
<p>Hosts选择Show only the following Hosts，下面输入的是能够显示在抓包界面的端口号</p>
<p>为了测试能否抓包也可以暂时把过滤器关闭</p>
<ol start="3">
<li>检查浏览器代理</li>
</ol>
<p>打开浏览器设置—高级—系统—打开您计算机的代理设置</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511135142963.png"></p>
<p>手动修改地址，修改为http&#x3D;127.0.0.1，端口号输入8888，点击保存</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511135227514.png"></p>
<p>然后打开Internet属性（控制面板—网络和Internet—Internet选项）</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511135559575.png"></p>
<p>选择连接面板，点击局域网设置</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511135719914.png"></p>
<p>点击高级选项</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511135817839.png"></p>
<p>只需要更改HTTP的地址为127.0.0.1和端口为8888即可，修改完后点击确定退出</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511140125359.png"></p>
<p>注意红框部分取消勾选，本地地址不适用代理服务器</p>
<p>选择确定退出，再看Fiddler的抓包界面</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511140253203.png"></p>
<p>以上步骤完成后可以尝试重启Fiddler或重启浏览器查看效果</p>
<h4 id="Fiddler抓包分析"><a href="#Fiddler抓包分析" class="headerlink" title="Fiddler抓包分析"></a>Fiddler抓包分析</h4><p>在测试网页中填写信息，提交表单</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511141041590.png"></p>
<p>在Fiddler中找到这条抓包信息</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511141137589.png"></p>
<h4 id="查看抓包数据"><a href="#查看抓包数据" class="headerlink" title="查看抓包数据"></a>查看抓包数据</h4><h5 id="1-HTTP请求"><a href="#1-HTTP请求" class="headerlink" title="1. HTTP请求**"></a>1. HTTP请求**</h5><p>Method Request-URL HTTP-Version CRLF</p>
<ul>
<li>Method:  HTTP请求的方法</li>
<li>Request-URL(Uniform Resource Identifier，统一资源标识符)：请求的资源地址</li>
<li>HTTP-Version：协议的版本</li>
<li>CRLF：代表回车</li>
</ul>
<h5 id="2-请求报头"><a href="#2-请求报头" class="headerlink" title="2. 请求报头"></a><strong>2. 请求报头</strong></h5><p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511141022999.png"></p>
<p>报头名字+”：”+空格+值</p>
<p><em>Host：127.0.0.1:8020</em></p>
<p><em>Connection:  keep-alive</em></p>
<p><em>Accept:  text&#x2F;html</em></p>
<p><em>User-Agent: Mozilla&#x2F;5.0</em></p>
<p><em>Accept-Encoding:   gzip, deflate,  sdch</em> </p>
<p><em>Accept-Language:  zh-CN,zh;q&#x3D;0.8</em></p>
<h5 id="3-请求正文"><a href="#3-请求正文" class="headerlink" title="3. 请求正文**"></a>3. 请求正文**</h5><p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511141425454.png"></p>
<p>请求报头和请求正文之间是一个空行，这个行非常重要，它表示请求报头已经结束，接下来的是请求正文。请求正文主要用来包含客户端向服务端发送的数据。</p>
<p>例如form表单用post方式传递数据</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511143246893.png"></p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/Users\HP_USER\AppData\Roaming\Typora\typora-user-images\image-20220511143349412.png" alt="image-20220511143349412"></p>
<h5 id="4-HTTP响应"><a href="#4-HTTP响应" class="headerlink" title="4. HTTP响应**"></a>4. HTTP响应**</h5><p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511141442606.png"></p>
<p>*HTTP-Version Status-Code Reason-*<em>Pharse</em> <em>CRLF</em></p>
<ul>
<li>HTTP-Vesion：服务器HTTP协议的版本，</li>
<li>Status-Code：服务器的响应代码；</li>
<li>Reason-Pharse：服务器响应状态的描述。</li>
<li>CRLF：表示回车</li>
</ul>
<p><em>eg.  HTTP&#x2F;1.1  200  OK</em></p>
<h5 id="5-响应报头"><a href="#5-响应报头" class="headerlink" title="5. 响应报头**"></a>5. 响应报头**</h5><p><em>Date: Wed, 09 Nov 2016 08:07:40 GMT</em></p>
<p><em>Server:</em> <em>HttpComponents</em><em>&#x2F;4.1.3</em></p>
<p><em>Content-Length: 537</em></p>
<p><em>Content-Type: text&#x2F;html</em></p>
<p><em>Connection: keep-alive</em></p>
<p>响应正文和报头之间隔了一行</p>
<h5 id="6-消息报头"><a href="#6-消息报头" class="headerlink" title="6. 消息报头"></a><strong>6. 消息报头</strong></h5><p>•   <em>Cache-Control</em></p>
<p>用于指定缓存指令，缓存指令是单向的（响应中出现的缓存指令在请求中未必会出现），且是独立的（一个消息的缓存指令不会影响另一个消息处理的缓存机制），HTTP1.0使用的类似的报头域为Pragma。<br>请求时的缓存指令包括：no-cache（用于指示请求或响应消息不能缓存）、no-store、max-age、max-stale、min-fresh、only-if-cached。<br>响应时的缓存指令包括：public、private、no-cache、no-store、no-transform、must-revalidate、proxy-revalidate、max-age、s-maxage。</p>
<p>•   <em>Connection</em></p>
<p>表示允许发送指定连接的选项。例如指定连接是连续，或者指定“close”选项，通知服务器，在响应完成后，关闭连接。</p>
<p>•   <em>Date</em></p>
<p>表示消息产生的日期和时间。</p>
<p>•   <em>Accept</em></p>
<p>用于指定客户端接受哪些类型的信息。</p>
<p><em>eg1.Accept：image&#x2F;gif，表明客户端希望接受GIF图象格式的资源；</em></p>
<p><em>eg2.Accept：text&#x2F;html，表明客户端希望接受html文本。</em></p>
<p>•   <em>Accept-Charset</em></p>
<p>用于指定客户端接受的字符集。</p>
<p><em>eg. Accept-Charset:iso-8859-1,gb2312.如果在请求消息中没有设置这个域，缺省是任何字符集都可以接受。</em></p>
<p>•   <em>Accept-Encoding</em></p>
<p>类似于Accept，但是它是用于指定可接受的内容编码。</p>
<p><em>eg：Accept-Encoding:gzip.deflate.如果请求消息中没有设置这个域服务器假定客户端对各种内容编码都可以接受。</em></p>
<p>•   <em>Range</em></p>
<p>请求头格式：<code>Range: bytes=start-end</code></p>
<p><code>Range： bytes=10-</code>：第10个字节及最后一个字节的数据</p>
<p><code>Range: bytes=40-100</code>：第40个字节到第100个字节之间的数据</p>
<p>[start,end]包含请求头的start及end字节，因此，下一个请求应该是上一个请求的[end+1, nextEnd]。</p>
<h4 id="Postman初步使用"><a href="#Postman初步使用" class="headerlink" title="Postman初步使用"></a>Postman初步使用</h4><p>Postman安装</p>
<p>在官网下载安装包直接安装即可，无需注册也可以直接使用</p>
<p>进入主界面</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511145143063.png"></p>
<p>新建Collection—Add Folder—Add Request</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511145333539.png"></p>
<p>文件名可以随时修改，也可以更改请求方式，输入待测试的网址，点击Send</p>
<p><img src="/2022/05/11/Fiddler%E6%8A%93%E5%8C%85%E5%8F%8APostman%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20220511145510597.png"></p>
<p>可以直观地看到返回的Headers数据。</p>
<hr>
<p>Fiddler抓包问题解决太费劲了，搞了半天应该是浏览器的代理出了问题。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/10/Matplotlib%E5%BA%93%E4%B9%8B%E7%AE%80%E5%8D%95%E5%9B%BE%E8%A1%A8%E7%BB%98%E5%88%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/10/Matplotlib%E5%BA%93%E4%B9%8B%E7%AE%80%E5%8D%95%E5%9B%BE%E8%A1%A8%E7%BB%98%E5%88%B6/" class="post-title-link" itemprop="url">Matplotlib库之简单图表绘制</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-10 20:47:26" itemprop="dateCreated datePublished" datetime="2022-05-10T20:47:26+08:00">2022-05-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-11 21:20:38" itemprop="dateModified" datetime="2022-05-11T21:20:38+08:00">2022-05-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Matplotlib之图表绘制"><a href="#Matplotlib之图表绘制" class="headerlink" title="Matplotlib之图表绘制"></a>Matplotlib之图表绘制</h2><h4 id="绘制文字和坐标轴"><a href="#绘制文字和坐标轴" class="headerlink" title="绘制文字和坐标轴"></a>绘制文字和坐标轴</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">plt.rcParams[&quot;font.family&quot;] = &quot;SimHei&quot;</span><br><span class="line"></span><br><span class="line">plt.plot()</span><br><span class="line">plt.text(3,3.5,&quot;这是一个测试\n=100&quot;)</span><br><span class="line"></span><br><span class="line">#设置坐标轴范围</span><br><span class="line">plt.xlim(0,4)</span><br><span class="line">plt.ylim(0,4)</span><br><span class="line"></span><br><span class="line">#设置坐标轴标签</span><br><span class="line">plt.xlabel(&#x27;横坐标x&#x27;, fontsize=20)</span><br><span class="line">plt.ylabel(&#x27;纵坐标y&#x27;, fontsize=20)</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/10/Matplotlib%E5%BA%93%E4%B9%8B%E7%AE%80%E5%8D%95%E5%9B%BE%E8%A1%A8%E7%BB%98%E5%88%B6/image-20220510205330454.png"></p>
<h4 id="散点图"><a href="#散点图" class="headerlink" title="散点图"></a>散点图</h4><p><img src="/2022/05/10/Matplotlib%E5%BA%93%E4%B9%8B%E7%AE%80%E5%8D%95%E5%9B%BE%E8%A1%A8%E7%BB%98%E5%88%B6/image-20220510205504664.png"></p>
<p><img src="/2022/05/10/Matplotlib%E5%BA%93%E4%B9%8B%E7%AE%80%E5%8D%95%E5%9B%BE%E8%A1%A8%E7%BB%98%E5%88%B6/image-20220510205525472.png"></p>
<h5 id="绘制标准正态分布的散点图"><a href="#绘制标准正态分布的散点图" class="headerlink" title="绘制标准正态分布的散点图"></a>绘制标准正态分布的散点图</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line">#设置中文字体</span><br><span class="line">plt.rcParams[&quot;font.sans-serif&quot;]=&quot;SimHei&quot;</span><br><span class="line">#设置正常显示正负号</span><br><span class="line">plt.rcParams[&quot;axes.unicode_minus&quot;]=False</span><br><span class="line">#标准正态分布的散点坐标</span><br><span class="line">n = 128</span><br><span class="line">x = np.random.normal(0,1,n)</span><br><span class="line">y = np.random.normal(0,1,n)</span><br><span class="line">#绘制散点图</span><br><span class="line">plt.scatter(x,y,color=&quot;green&quot;,marker=&quot;+&quot;)</span><br><span class="line">#设置标题</span><br><span class="line">plt.title(&quot;标准正态分布&quot;,fontsize=20)</span><br><span class="line">#设置文本</span><br><span class="line">plt.text(2.5,2.5,&quot;均 值：0\n标准差：1&quot;)</span><br><span class="line">#设置坐标轴范围</span><br><span class="line">plt.xlim(-4,4)</span><br><span class="line">plt.ylim(-4,4)</span><br><span class="line">#设置坐标轴标签</span><br><span class="line">plt.xlabel(&#x27;横坐标x&#x27;,fontsize=14)</span><br><span class="line">plt.ylabel(&#x27;纵坐标y&#x27;,fontsize=14)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/10/Matplotlib%E5%BA%93%E4%B9%8B%E7%AE%80%E5%8D%95%E5%9B%BE%E8%A1%A8%E7%BB%98%E5%88%B6/image-20220510210218913.png"></p>
<h5 id="散点图——设置图例"><a href="#散点图——设置图例" class="headerlink" title="散点图——设置图例"></a>散点图——设置图例</h5><p>scatter(x,y,scale,color,marker,label)    <strong>label——指定图例内容</strong></p>
<p><strong>legend(loc,fontsize) ——显示图例</strong></p>
<h5 id="绘制标准正态分布和均匀分布的散点图，并添加图例"><a href="#绘制标准正态分布和均匀分布的散点图，并添加图例" class="headerlink" title="绘制标准正态分布和均匀分布的散点图，并添加图例"></a>绘制标准正态分布和均匀分布的散点图，并添加图例</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">n = 512</span><br><span class="line">x1 = np.random.normal(0,1,n)</span><br><span class="line">y1 = np.random.normal(0,1,n)</span><br><span class="line">x2 = np.random.uniform(-4,4,(1,n))</span><br><span class="line">y2 = np.random.uniform(-4,4,(1,n))</span><br><span class="line">#绘制散点图</span><br><span class="line">plt.scatter(x1,y1,color=&quot;green&quot;,marker=&quot;o&quot;,label=&quot;正态分布&quot;)</span><br><span class="line">plt.scatter(x2,y2,color=&quot;blue&quot;,marker=&quot;+&quot;,label=&quot;均匀分布&quot;)</span><br><span class="line">plt.legend()</span><br><span class="line">#标题</span><br><span class="line">plt.title(&quot;散点图&quot;,fontsize=20)</span><br><span class="line">#文本</span><br><span class="line">plt.text(2.5,2.5,&quot;均 值：0\n标准差：1&quot;)</span><br><span class="line">#设置坐标轴范围</span><br><span class="line">plt.xlim(-4,4)</span><br><span class="line">plt.ylim(-4,4)</span><br><span class="line">#坐标轴标签</span><br><span class="line">plt.xlabel(&#x27;横坐标x&#x27;, fontsize=14)</span><br><span class="line">plt.ylabel(&#x27;纵坐标y&#x27;, fontsize=14)</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/10/Matplotlib%E5%BA%93%E4%B9%8B%E7%AE%80%E5%8D%95%E5%9B%BE%E8%A1%A8%E7%BB%98%E5%88%B6/image-20220510210823857.png"></p>
<h4 id="折线图"><a href="#折线图" class="headerlink" title="折线图"></a>折线图</h4><p><img src="/2022/05/10/Matplotlib%E5%BA%93%E4%B9%8B%E7%AE%80%E5%8D%95%E5%9B%BE%E8%A1%A8%E7%BB%98%E5%88%B6/image-20220510210853779.png"></p>
<p><strong>绘制温度和湿度的折线图</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line">plt.rcParams[&quot;font.sans-serif&quot;]=&quot;SimHei&quot;</span><br><span class="line">#生成随机数量</span><br><span class="line">n = 24</span><br><span class="line">y1 = np.random.randint(27,37,n)</span><br><span class="line">y2 = np.random.randint(40,60,n)</span><br><span class="line">#绘制折线图</span><br><span class="line">plt.plot(y1, label=&quot;温度&quot;)</span><br><span class="line">plt.plot(y2, label=&quot;湿度&quot;)</span><br><span class="line">plt.xlim(0,23)</span><br><span class="line">plt.ylim(20,70)</span><br><span class="line">plt.xlabel(&quot;小时&quot;,fontsize=12)</span><br><span class="line">plt.ylabel(&quot;测量值&quot;,fontsize=12)</span><br><span class="line">plt.title(&quot;24小时温度湿度统计&quot;,fontsize=16)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/10/Matplotlib%E5%BA%93%E4%B9%8B%E7%AE%80%E5%8D%95%E5%9B%BE%E8%A1%A8%E7%BB%98%E5%88%B6/Users\HP_USER\AppData\Roaming\Typora\typora-user-images\image-20220510211159723.png" alt="image-20220510211159723"></p>
<h4 id="柱状图"><a href="#柱状图" class="headerlink" title="柱状图"></a>柱状图</h4><p><img src="/2022/05/10/Matplotlib%E5%BA%93%E4%B9%8B%E7%AE%80%E5%8D%95%E5%9B%BE%E8%A1%A8%E7%BB%98%E5%88%B6/image-20220510211246647.png"></p>
<p><img src="/2022/05/10/Matplotlib%E5%BA%93%E4%B9%8B%E7%AE%80%E5%8D%95%E5%9B%BE%E8%A1%A8%E7%BB%98%E5%88%B6/image-20220510211353752.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">plt.rcParams[&quot;font.sans-serif&quot;]=&quot;SimHei&quot;</span><br><span class="line">plt.rcParams[&quot;axes.unicode_minus&quot;]=False</span><br><span class="line"></span><br><span class="line">y1 = [32,25,32,35,45,33,17,24,20,10,32,5]</span><br><span class="line">y2 = [-14,-25,-18,-35,-46,-22,-18,-3,-24,-13,-25,-28]</span><br><span class="line">plt.bar(range(len(y1)),y1,width=0.8,facecolor=&quot;b&quot;,edgecolor=&quot;w&quot;,label=&quot;统计量1&quot;)</span><br><span class="line">plt.bar(range(len(y2)),y2,width=0.8,facecolor=&quot;r&quot;,edgecolor=&quot;w&quot;,label=&quot;统计量2&quot;)</span><br><span class="line">plt.title(&quot;柱状图&quot;,fontsize=20)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/10/Matplotlib%E5%BA%93%E4%B9%8B%E7%AE%80%E5%8D%95%E5%9B%BE%E8%A1%A8%E7%BB%98%E5%88%B6/Users\HP_USER\AppData\Roaming\Typora\typora-user-images\image-20220510211510543.png" alt="image-20220510211510543"></p>
<h4 id="直方图"><a href="#直方图" class="headerlink" title="直方图"></a>直方图</h4><p><img src="/2022/05/10/Matplotlib%E5%BA%93%E4%B9%8B%E7%AE%80%E5%8D%95%E5%9B%BE%E8%A1%A8%E7%BB%98%E5%88%B6/image-20220510211604399.png"></p>
<p><strong>绘制正态分布直方图</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">np.random.seed(0)</span><br><span class="line">mu, sigma = 100, 20</span><br><span class="line">a = np.random.normal(mu, sigma, size=100)</span><br><span class="line">plt.rcParams[&quot;font.family&quot;] = &quot;SimHei&quot;</span><br><span class="line">plt.hist(a, bins=20, facecolor=&#x27;b&#x27;, edgecolor=&#x27;k&#x27;, alpha=0.7)</span><br><span class="line">plt.xlabel(&quot;区间&quot;)</span><br><span class="line">plt.ylabel(&quot;频数(频数)&quot;)</span><br><span class="line">plt.title(&#x27;频数(频率)分布图&#x27;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/05/10/Matplotlib%E5%BA%93%E4%B9%8B%E7%AE%80%E5%8D%95%E5%9B%BE%E8%A1%A8%E7%BB%98%E5%88%B6/image-20220510211949442.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/09/DeepfaceLab%E4%B9%8B%E6%96%B0%E6%89%8B%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/09/DeepfaceLab%E4%B9%8B%E6%96%B0%E6%89%8B%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">DeepfaceLab之新手入门教程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-09 20:14:45" itemprop="dateCreated datePublished" datetime="2022-05-09T20:14:45+08:00">2022-05-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-11 21:21:51" itemprop="dateModified" datetime="2022-05-11T21:21:51+08:00">2022-05-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="安装版本"><a href="#安装版本" class="headerlink" title="安装版本"></a>安装版本</h3><p>RTX2080ti：针对2080ti以及以下版本</p>
<p>鉴于这台电脑显卡是GTX 1060，装这个版本即可。（关于安装包，网上有各种网盘汉化版的，显卡适用就行）</p>
<p>下载完成后，打开workspace，可以看到</p>
<p><img src="/2022/05/09/DeepfaceLab%E4%B9%8B%E6%96%B0%E6%89%8B%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/image-20220509202057835.png"></p>
<p>data_dst：源脸数据</p>
<p>data_src：目标人脸数据</p>
<p>model：模型文件</p>
<p>data_dst.mp4：源视频</p>
<p>data_src.mp4：目标视频</p>
<p>注意：以上文件夹和文件名都不能更改。所有素材统一放workspace文件中。</p>
<h3 id="执行步骤"><a href="#执行步骤" class="headerlink" title="执行步骤"></a>执行步骤</h3><p>在workspace上一级的目录中，有很多以.bat结尾的批处理文件，按步骤依次双击对应的.bat文件。</p>
<p><img src="/2022/05/09/DeepfaceLab%E4%B9%8B%E6%96%B0%E6%89%8B%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/image-20220509202703951.png"></p>
<p>如图所示，汉化版的只需要按字面意思理解并双击对应的文件即可。</p>
<p>具体执行步骤：</p>
<ol>
<li>src视频分解图像</li>
<li>dst视频分解图像</li>
<li>src提取面部</li>
<li>dst提取面部</li>
<li>训练模型</li>
<li>应用模型</li>
<li>合成视频</li>
</ol>
<p>对应的批处理文件：</p>
<ol>
<li>src 视频提取图像extract images from video data_src.bat</li>
<li>dst 视频提取图像（全帧率） extract images from video data_dst FULL FPS.bat</li>
<li>src 自动提取面部 data_src faceset extract.bat</li>
<li>dst 自动提取面部 data_dst faceset extract.bat</li>
<li>训练 SAEHD train SAEHD.bat（带不动就选  训练 Quick96 train Quick96.bat）</li>
<li>训练 SAEHD merge SAEHD.bat（带不动就选  训练 Quick96 merge Quick96.bat）</li>
<li>合成 MP4 视频 merged to mp4.bat</li>
</ol>
<hr>
<p><em>以下步骤未特别注明一律按回车处理</em></p>
<h4 id="Step1：src视频分解图像"><a href="#Step1：src视频分解图像" class="headerlink" title="Step1：src视频分解图像"></a>Step1：src视频分解图像</h4><p>双击  src 视频提取图像extract images from video data_src.bat</p>
<blockquote>
<p>确认帧率</p>
</blockquote>
<p>帧率表示GPU处理场景时每秒钟能够更新的次数。高的帧率可以得到更流畅、更逼真的效果。一般来说30帧就是可以接受的，默认帧率就是30帧。这里根据自己的需求选择，帧数越高，画面越流畅，文件体积越大，也更费后面的面部提取和模型训练时间。</p>
<blockquote>
<p>输出图片格式</p>
</blockquote>
<p>主要是jpg或png。png是无损格式，jpg能在保证画质的情况下减少巨量的空间，一般用jpg，可以节省空间，节省时间。</p>
<h4 id="Step2：dst视频分解图像"><a href="#Step2：dst视频分解图像" class="headerlink" title="Step2：dst视频分解图像"></a>Step2：dst视频分解图像</h4><p>双击  dst 视频提取图像（全帧率） extract images from video data_dst FULL FPS.bat</p>
<p>依然是选择输出图片格式，按需选择即可。</p>
<p>这次处理的是dst视频，因为dst必须一帧不落，所以没有FPS选项。</p>
<p>处理完成后的图片保存在workspace&#x2F;data_dst里。</p>
<h4 id="Step3：src提取面部"><a href="#Step3：src提取面部" class="headerlink" title="Step3：src提取面部"></a>Step3：src提取面部</h4><p>双击  src 自动提取面部 data_src faceset extract.bat</p>
<p>这一步是提取src素材图片中的人脸，这里有六个参数，一般只需要回车处理即可。</p>
<p>处理完成后的图片保存在data_src&#x2F;aligned里。</p>
<p>在这个环节可以把一些不需要的素材删除：模糊的直接删除，不是目标人脸的直接删除，图片残缺的删除，脸部有遮挡的删除，脸部光照差异特别大的删除。</p>
<h4 id="Step4：dst提取面部"><a href="#Step4：dst提取面部" class="headerlink" title="Step4：dst提取面部"></a>Step4：dst提取面部</h4><p>双击  dst 自动提取面部 data_dst faceset extract.bat</p>
<p>和上一步类似，这一次提取dst素材图片中的人脸，这里有五个参数，还有一个“保存调试图片”的参数默认执行了，其余参数一律回车处理。</p>
<p>提取到的头像保存在data_dst&#x2F;aligned里。</p>
<p>继续筛选素材：不是目标人脸的删除，头像旋转的删除，一般而言可以把文件名后缀_1的删除。核心原则是要换的人脸留下，不要换的都可以删掉。</p>
<h4 id="Step5：训练模型"><a href="#Step5：训练模型" class="headerlink" title="Step5：训练模型"></a>Step5：训练模型</h4><p>双击  训练 SAEHD train SAEHD.bat（带不动就选  训练 Quick96 train Quick96.bat）</p>
<p>Qt96合适低配电脑玩的轻量模型，对显卡要求不高，缺点在于像素太低，没有高级参数选项，合成效果差。</p>
<p>AMP模型对素材要求高，操作复杂，不适合新手。</p>
<p>SAEHD模型是使用范围最广、运用最成熟的一种模型，可以灵活调整各种模型的参数，以达到最佳的训练效果。</p>
<p>新手可以一路回车使用默认参数来熟悉操作流程。</p>
<p>之后底部会有一行跳动的数字，然后会跳出一个预览窗口。</p>
<p>底部的数字总共五列，分别代表：模型保存时间、迭代次数、单词迭代时间、src损失、dst损失。理论上，迭代次数越多越好，损失越低越好，一般推荐数值在0.1以下。</p>
<p>预览窗口包含操作提示、loss曲线，人脸区域。人脸区域总共五列，第一列是src，第三列是dst。第二、四、五列是算法生成列，随着训练的进行，会逐渐出现轮廓，然后慢慢变清晰。</p>
<p>这一个训练过程不会自动结束，需要自己判断然后手动结束，可以隔一段时间按p刷新一次看看人脸是否变得更清晰，通过预览图的效果来判断是否可以结束训练。（按回车自动保存并退出）</p>
<p>相较预览图，还可以通过损失值来判断，一般损失值到0.1就差不多了。但是素材质量和数量会影响这个指标的变化速度。比如素材特别少，这个值降得特别快，特别低。图片不是很清晰，这个值也降得特别快，特别低。反过来，图片质量高，数量多，这个值就很难降低。但是这种情况下训练出来的模型更好。</p>
<p>模型的训练可以重复进行，保存退出后，重新进入训练也不会丢失进度。</p>
<h4 id="Step6：应用模型"><a href="#Step6：应用模型" class="headerlink" title="Step6：应用模型"></a>Step6：应用模型</h4><p>双击  训练 SAEHD merge SAEHD.bat（带不动就选  训练 Quick96 merge Quick96.bat）</p>
<p>这个步骤就是将图片进行换脸。</p>
<p>这步需要配置两个参数：</p>
<p>（1）是否启用交互模式，默认启用，直接回车</p>
<p>（2）线程数量：输入小于等于8的数字，回车。（如果核心太多可能报错）</p>
<p>稍等会出现帮助界面，点击这个界面，切换为英文输入法，按下Tab，进入合成预览界面</p>
<p>进来后可以看见预览换脸效果，默认情况下都有人皮面具的感觉，这是因为参数还没有调整。</p>
<p>对于新手来说，调整W&#x2F;S（调节遮罩侵蚀的加减），E&#x2F;D（调节遮罩羽化效果的加减）即可。</p>
<p>预览效果差不多可以，按下快捷键shift+?（向后应用到所有帧），然后再按下shift+&gt;（自动合成）就开始自动合成。通过 &lt; 和 &gt; 手动切换可以查看前后帧的合成效果。</p>
<p>这一步窗口不会自动关闭，等合成进度到100%手动关闭即可。</p>
<p>完成这个步骤后再data_dst下面会多两个文件，一个是merged，一个是merged_mask。（遮罩文件中出现全黑图片即为换脸失败）</p>
<h4 id="Step7：合成模型"><a href="#Step7：合成模型" class="headerlink" title="Step7：合成模型"></a>Step7：合成模型</h4><p>双击  合成 MP4 视频 merged to mp4.bat</p>
<p>这个步骤是将已经换好脸的图片转换成视频，并且会自动读取源视频的配置信息，包括帧率，音轨这些。</p>
<p>这步需要配置一个参数：输出码率的参数，默认是16，常规而言4就够用了。</p>
<p>除了合成mp4之外，还可以根据自己的需求合成无损、AVI、MOV等格式。</p>
<p>执行命令完成后，workspace下面会多两个.mp4文件，result.mp4就是换脸完成后的视频，另一个是遮罩视频，供后期使用。</p>
<hr>
<p>步骤其实不难，但是细节很多。教程网上很多，安装包也很多，但是找到一个合适的安装包并且能初步完成教程罗列的步骤一步步进行并且得到初步的结果并不容易。中间多次报错out of memory和页面文件太小，无法完成操作。解决办法其实很简单，就是把装DeepFaceLab的盘的虚拟内存扩容，暂时扩容到30G。如果后期虚拟内存还不够的话考虑删几个游戏。</p>
<p>最后，放一下第一个成功换脸的视频截图。（人皮面具既视感）</p>
<p><img src="/2022/05/09/DeepfaceLab%E4%B9%8B%E6%96%B0%E6%89%8B%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/image-20220509214717749.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/07/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E5%8F%82%E6%95%B0%E5%8C%96%E6%B5%8B%E8%AF%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/07/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E5%8F%82%E6%95%B0%E5%8C%96%E6%B5%8B%E8%AF%95/" class="post-title-link" itemprop="url">Selenium自动化测试之登录页面参数化测试</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-07 13:38:26" itemprop="dateCreated datePublished" datetime="2022-05-07T13:38:26+08:00">2022-05-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-11 21:25:41" itemprop="dateModified" datetime="2022-05-11T21:25:41+08:00">2022-05-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="参数化测试用例设计"><a href="#参数化测试用例设计" class="headerlink" title="参数化测试用例设计"></a>参数化测试用例设计</h3><p>测试用例如下：</p>
<p><img src="/2022/05/07/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E5%8F%82%E6%95%B0%E5%8C%96%E6%B5%8B%E8%AF%95/clip_image001.png"></p>
<p>上次的脚本报错，问题出在这一行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res = driver.find_element(By.CLASS_NAME, &quot;//div[@class=&#x27;@ferrorhead&#x27;]&quot;).text</span><br></pre></td></tr></table></figure>

<p>修改成</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res = driver.find_element(By.XPATH, &quot;//div[@class=&#x27;ferrorhead&#x27;]&quot;).text</span><br></pre></td></tr></table></figure>

<p>另外，测试用例销毁部分的代码还需要补充</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@classmethod</span><br><span class="line">   def tearDownClass(cls) -&gt; None:</span><br><span class="line">       print(&quot;所有测试的销毁工作&quot;)</span><br><span class="line">       cls.driver.quit()</span><br><span class="line">   def tearDown(self) -&gt; None:</span><br><span class="line">       print(&quot;每个用例的销毁工作&quot;)</span><br><span class="line">       time.sleep(2)</span><br></pre></td></tr></table></figure>

<p>至此，昨天的测试代码能够正常运行并通过测试</p>
<h3 id="参数化测试脚本"><a href="#参数化测试脚本" class="headerlink" title="参数化测试脚本"></a>参数化测试脚本</h3><p>参数化测试专门测试登录失败的用例，新建一个单元测试文件在原来的基础上修改。</p>
<ol>
<li><p>导入ddt库（Data-Driven Tests数据驱动测试库，允许通过使用不同的测试数据运行一个测试用例，根据参数的个数可以运行多个不同的测试用例）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import ddt</span><br></pre></td></tr></table></figure>
</li>
<li><p>写入测试数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">datas=[</span><br><span class="line">    &#123;&quot;user&quot;:&quot;wang_test_12&quot;,&quot;pwd&quot;:&quot;Wang12345678&quot;,&quot;expected&quot;:&quot;请先进行验证&quot;&#125;,</span><br><span class="line">    &#123;&quot;user&quot;:&quot;wang_test_1&quot;,&quot;pwd&quot;:&quot;Wang123456789&quot;,&quot;expected&quot;:&quot;请先进行验证&quot;&#125;,</span><br><span class="line">    &#123;&quot;user&quot;:&quot;&quot;,&quot;pwd&quot;:&quot;Wang12345678&quot;,&quot;expected&quot;:&quot;请输入帐号&quot;&#125;,</span><br><span class="line">    &#123;&quot;user&quot;:&quot;wang_test_1&quot;,&quot;pwd&quot;:&quot;&quot;,&quot;expected&quot;:&quot;请输入密码&quot;&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
</li>
<li><p>写入测试数据后，注意加这行代码(拆包)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@ddt.ddt()</span><br></pre></td></tr></table></figure>
</li>
<li><p>在测试用例前加这行拆包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@ddt.data(*datas)</span><br></pre></td></tr></table></figure>
</li>
<li><p>在测试用例函数中修改各参数的值即可，完整代码如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">import unittest</span><br><span class="line">import ddt</span><br><span class="line">from selenium import webdriver</span><br><span class="line">from selenium.webdriver.common.by import By</span><br><span class="line">import time</span><br><span class="line">datas=[</span><br><span class="line">    &#123;&quot;user&quot;:&quot;wang_test_12&quot;,&quot;pwd&quot;:&quot;Wang12345678&quot;,&quot;expected&quot;:&quot;请先进行验证&quot;&#125;,</span><br><span class="line">    &#123;&quot;user&quot;:&quot;wang_test_1&quot;,&quot;pwd&quot;:&quot;Wang123456789&quot;,&quot;expected&quot;:&quot;请先进行验证&quot;&#125;,</span><br><span class="line">    &#123;&quot;user&quot;:&quot;&quot;,&quot;pwd&quot;:&quot;Wang12345678&quot;,&quot;expected&quot;:&quot;请输入帐号&quot;&#125;,</span><br><span class="line">    &#123;&quot;user&quot;:&quot;wang_test_1&quot;,&quot;pwd&quot;:&quot;&quot;,&quot;expected&quot;:&quot;请输入密码&quot;&#125;</span><br><span class="line">]</span><br><span class="line">@ddt.ddt()</span><br><span class="line">class MyTestCase(unittest.TestCase):</span><br><span class="line">    @classmethod</span><br><span class="line">    def setUpClass(cls) -&gt; None:</span><br><span class="line">        print(&quot;所有测试的准备工作&quot;)</span><br><span class="line">        driver = webdriver.Chrome()</span><br><span class="line">        driver.implicitly_wait(10)</span><br><span class="line">        cls.baseURL = &quot;https://www.126.com/&quot;</span><br><span class="line">        cls.driver = driver</span><br><span class="line"></span><br><span class="line">    def setUp(self) -&gt; None:</span><br><span class="line">        print(&quot;每个用例的准备工作&quot;)</span><br><span class="line">        time.sleep(2)</span><br><span class="line"></span><br><span class="line">    @ddt.data(*datas)</span><br><span class="line">    def test_login_inva(self,case):</span><br><span class="line">        &quot;登录无效用例&quot;</span><br><span class="line">        driver = self.driver</span><br><span class="line">        driver.get(self.baseURL)</span><br><span class="line">        driver.switch_to.frame(driver.find_element(By.CSS_SELECTOR, &quot;#loginDiv iframe&quot;))</span><br><span class="line">        user = driver.find_element(By.XPATH, &quot;//form[@id=&#x27;login-form&#x27;]//input[@name=&#x27;email&#x27;]&quot;)</span><br><span class="line">        user.clear()</span><br><span class="line">        user.send_keys(case[&quot;user&quot;])</span><br><span class="line">        pwd = driver.find_element(By.XPATH, &quot;//form[@id=&#x27;login-form&#x27;]//input[@name=&#x27;password&#x27;]&quot;)</span><br><span class="line">        pwd.clear()</span><br><span class="line">        pwd.send_keys(case[&quot;pwd&quot;])</span><br><span class="line">        driver.find_element(By.XPATH, &quot;//form[@id=&#x27;login-form&#x27;]//a[@id=&#x27;dologin&#x27;]&quot;).click()</span><br><span class="line">        # 捕获实际结果</span><br><span class="line">        result = driver.find_element(By.XPATH, &quot;//div[@class=&#x27;ferrorhead&#x27;]&quot;).text</span><br><span class="line">        print(result)</span><br><span class="line">        self.assertEqual(case[&quot;expected&quot;], result)</span><br><span class="line"></span><br><span class="line">    @classmethod</span><br><span class="line">    def tearDownClass(cls) -&gt; None:</span><br><span class="line">        print(&quot;所有测试的销毁工作&quot;)</span><br><span class="line">        cls.driver.quit()</span><br><span class="line"></span><br><span class="line">    def tearDown(self) -&gt; None:</span><br><span class="line">        print(&quot;每个用例的销毁工作&quot;)</span><br><span class="line">        time.sleep(2)</span><br><span class="line"></span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">    unittest.main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>由于测试次数太多，进入网站登录需要验证了，为了通过测试把expected:帐号或密码错误 修改成 expected:请先进行验证（如果需要修改的话直接改这里）</p>
</li>
</ol>
<h3 id="输出测试结果图表美化"><a href="#输出测试结果图表美化" class="headerlink" title="输出测试结果图表美化"></a>输出测试结果图表美化</h3><ol>
<li><p>导入BeautifulReport库（一个基于unittest.TestReport模块实现的测试用例模板，可以把我们每次测试中的结果通过BeautifulReport整合成一个可视化的报表）</p>
</li>
<li><p>调用BeautifulReport库和unittest库</p>
</li>
<li><p>可以自定义输出页的页名和报表的标题，以及报告的存放位置(“.”就是放在当前目录下)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from BeautifulReport import BeautifulReport</span><br><span class="line">import unittest</span><br><span class="line"></span><br><span class="line">suit=unittest.TestLoader().discover(&quot;.&quot;)</span><br><span class="line">BeautifulReport(suit).report(&quot;登录测试用例执行结果&quot;,&quot;report.html&quot;)</span><br></pre></td></tr></table></figure>

<p>输出结果展示：</p>
<p><img src="/2022/05/07/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E5%8F%82%E6%95%B0%E5%8C%96%E6%B5%8B%E8%AF%95/clip_image002.jpg"></p>
</li>
</ol>
<p><img src="/2022/05/07/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E5%8F%82%E6%95%B0%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220507140708456.png"></p>
<p>错误的用例是因为登录操作太多需要验证了</p>
<hr>
<p>到此为止，Selenium简单的入门级自动化测试就告一段落了。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/06/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E8%AE%BE%E8%AE%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/06/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E8%AE%BE%E8%AE%A1/" class="post-title-link" itemprop="url">Selenium自动化测试之登录页面测试用例设计</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-06 12:05:23" itemprop="dateCreated datePublished" datetime="2022-05-06T12:05:23+08:00">2022-05-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-11 21:27:50" itemprop="dateModified" datetime="2022-05-11T21:27:50+08:00">2022-05-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>测试网站<a target="_blank" rel="noopener" href="https://www.126.com/%E7%9A%84%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD">https://www.126.com/的登录功能</a></p>
<h4 id="分析及实现"><a href="#分析及实现" class="headerlink" title="分析及实现"></a>分析及实现</h4><p><img src="/2022/05/06/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E8%AE%BE%E8%AE%A1/image-20220506120950619.png"></p>
<p>1.首先打开F12，观察测试所需的输入框的源码</p>
<p><img src="/2022/05/06/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E8%AE%BE%E8%AE%A1/image-20220506121123761.png"></p>
<p>显而易见，登录需要输入邮箱帐号和密码以及点击登录按钮都在login-form中</p>
<p>2.用测试帐号登录，观察成功登陆界面的源码</p>
<p><img src="/2022/05/06/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E8%AE%BE%E8%AE%A1/image-20220506121627907.png"></p>
<p>可以看到，红框所在的区域显示了邮箱名和用户名，可以通过获取这两个区域的值来判断用户是否登录成功</p>
<p><img src="/2022/05/06/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E8%AE%BE%E8%AE%A1/image-20220506121741887.png"></p>
<p><img src="/2022/05/06/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E8%AE%BE%E8%AE%A1/image-20220506121807944.png"></p>
<p>打开F12，找到这两行代码</p>
<p>3.观察登录失败的界面</p>
<p><img src="/2022/05/06/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E8%AE%BE%E8%AE%A1/image-20220506122114010.png"></p>
<p>很明显，多了一个帐号或密码错误的提示</p>
<p><img src="/2022/05/06/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E8%AE%BE%E8%AE%A1/image-20220506122623493.png"></p>
<p>还是一样，找到它的源码</p>
<p>4.有了两个测试用例，可以初步用selenium实现登录操作</p>
<p>打开PyCharm，新建Python unit test File（如下图所示）</p>
<p><img src="/2022/05/06/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E8%AE%BE%E8%AE%A1/image-20220506122327299.png"></p>
<p>代码实现思路如上述步骤，转化为代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">import unittest</span><br><span class="line">from selenium import webdriver</span><br><span class="line">from selenium.webdriver.common.by import By</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line">class MyTestCase(unittest.TestCase):</span><br><span class="line">    @classmethod</span><br><span class="line">    def setUpClass(cls) -&gt; None:</span><br><span class="line">        print(&quot;所有测试的准备工作&quot;)</span><br><span class="line">        driver = webdriver.Chrome()</span><br><span class="line">        driver.implicitly_wait(10)</span><br><span class="line">        cls.baseURL = &quot;https://www.126.com/&quot;</span><br><span class="line">        cls.driver = driver</span><br><span class="line">    def setUp(self) -&gt; None:</span><br><span class="line">        print(&quot;每个用例的准备工作&quot;)</span><br><span class="line">        time.sleep(2)</span><br><span class="line">    #测试用例</span><br><span class="line">    def test_login1(self):</span><br><span class="line">        &quot;登录成功用例&quot;</span><br><span class="line">        driver = self.driver</span><br><span class="line">        driver.get(self.baseURL)</span><br><span class="line">        driver.switch_to.frame(driver.find_element(By.CSS_SELECTOR,&quot;#loginDiv iframe&quot;))</span><br><span class="line">        user = driver.find_element(By.XPATH,&quot;//form[@id=&#x27;login-form&#x27;]//input[@name=&#x27;email&#x27;]&quot;)</span><br><span class="line">        user.clear()</span><br><span class="line">        user.send_keys(&quot;wang_test_1&quot;)</span><br><span class="line">        pwd = driver.find_element(By.XPATH,&quot;//form[@id=&#x27;login-form&#x27;]//input[@name=&#x27;password&#x27;]&quot;)</span><br><span class="line">        pwd.clear()</span><br><span class="line">        pwd.send_keys(&quot;Wang12345678&quot;)</span><br><span class="line">        driver.find_element(By.XPATH,&quot;//form[@id=&#x27;login-form&#x27;]//a[@id=&#x27;dologin&#x27;]&quot;).click()</span><br><span class="line">        # 捕获实际结果</span><br><span class="line">        result=driver.find_element(By.XPATH,&quot;//span[@id=&#x27;spnUid&#x27;]&quot;).text</span><br><span class="line">        print(result)</span><br><span class="line">        self.assertEqual(&quot;wang_test_1@126.com&quot;, result)</span><br><span class="line">        res = driver.find_element(By.XPATH,&quot;//span[contains(@id,&#x27;dvGreetName&#x27;)]&quot;).text</span><br><span class="line">        print(res)</span><br><span class="line">        self.assertEqual(&quot;wang_test_1&quot;,res)</span><br><span class="line"></span><br><span class="line">    def test_login2(self):</span><br><span class="line">        &quot;登录无效用例&quot;</span><br><span class="line">        driver = self.driver</span><br><span class="line">        driver.get(self.baseURL)</span><br><span class="line">        driver.switch_to.frame(driver.find_element(By.CSS_SELECTOR, &quot;#loginDiv iframe&quot;))</span><br><span class="line">        user = driver.find_element(By.XPATH, &quot;//form[@id=&#x27;login-form&#x27;]//input[@name=&#x27;email&#x27;]&quot;)</span><br><span class="line">        user.clear()</span><br><span class="line">        user.send_keys(&quot;wang_test_2&quot;)</span><br><span class="line">        pwd = driver.find_element(By.XPATH, &quot;//form[@id=&#x27;login-form&#x27;]//input[@name=&#x27;password&#x27;]&quot;)</span><br><span class="line">        pwd.clear()</span><br><span class="line">        pwd.send_keys(&quot;Wang12345678&quot;)</span><br><span class="line">        driver.find_element(By.XPATH, &quot;//form[@id=&#x27;login-form&#x27;]//a[@id=&#x27;dologin&#x27;]&quot;).click()</span><br><span class="line">        # 捕获实际结果</span><br><span class="line">        res = driver.find_element(By.CLASS_NAME, &quot;//div[@class=&#x27;@ferrorhead&#x27;]&quot;).text</span><br><span class="line">        print(res)</span><br><span class="line">        self.assertEqual(&quot;帐号或密码错误&quot;, res)</span><br><span class="line"></span><br><span class="line">    @classmethod</span><br><span class="line">    def tearDownClass(cls) -&gt; None:</span><br><span class="line">        print(&quot;所有测试的销毁工作&quot;)</span><br><span class="line">    def tearDown(self) -&gt; None:</span><br><span class="line">        print(&quot;每个用例的销毁工作&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">    unittest.main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>运行成功登陆的测试用例</p>
<p><img src="/2022/05/06/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E8%AE%BE%E8%AE%A1/image-20220506124158197.png"></p>
<p>登录失败的测试用例未通过测试，另外，代码还未实现参数化测试</p>
<hr>
<p>以上内容只能作为登录页面测试用例的简单思路分析，代码仅供参考，自动化测试脚本还会继续改进完善</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/05/Anaconda%E4%B9%8Bmatplotlib%E5%BA%93%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8ARead-timed-out-Error%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/05/Anaconda%E4%B9%8Bmatplotlib%E5%BA%93%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8ARead-timed-out-Error%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" class="post-title-link" itemprop="url">Anaconda之matplotlib库的安装及Read timed out Error解决方案</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-05 18:12:17" itemprop="dateCreated datePublished" datetime="2022-05-05T18:12:17+08:00">2022-05-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-12 19:15:37" itemprop="dateModified" datetime="2022-05-12T19:15:37+08:00">2022-05-12</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="matplotlib库"><a href="#matplotlib库" class="headerlink" title="matplotlib库"></a>matplotlib库</h3><ul>
<li><p>Matplotlib库由各种可视化类构成，内部结构复杂，受Matlab启发</p>
</li>
<li><p>matplotlib.pyplot是绘制各类可视化图形的命令子库，相当于快捷方式</p>
<p><code>import matplotlib.pyplot as plt</code></p>
</li>
</ul>
<p><strong>安装Matplotlib库</strong></p>
<p>进入Anaconda Prompt(Anaconda)，输入以下代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate pytorch</span><br></pre></td></tr></table></figure>

<p>激活Pytorch，然后输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install matplotlib</span><br></pre></td></tr></table></figure>

<p>可以看到，下载的速度很慢，并且出现报错</p>
<p>最后显示的错误为Read timed out</p>
<h3 id="报错的解决方案"><a href="#报错的解决方案" class="headerlink" title="报错的解决方案"></a>报错的解决方案</h3><p>出现报错的原因其实就是网速太慢</p>
<p>解决方法如下:</p>
<p>打开Everything，搜索.condarc，用记事本打开</p>
<p><img src="/2022/05/05/Anaconda%E4%B9%8Bmatplotlib%E5%BA%93%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8ARead-timed-out-Error%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/image-20220505182523267.png"></p>
<p>可在channels中加入清华的镜像源（<a target="_blank" rel="noopener" href="https://pypi.tuna.tsinghua.edu.cn/simple%EF%BC%89%EF%BC%8C%E4%BF%AE%E6%94%B9%E5%AE%8C%E4%BF%9D%E5%AD%98%E5%90%8E%E9%87%8D%E6%96%B0%E5%AE%89%E8%A3%85%E5%8D%B3%E5%8F%AF">https://pypi.tuna.tsinghua.edu.cn/simple），修改完保存后重新安装即可</a></p>
<p>除了这种方法外，还可以直接指定下载网址进行安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install matplotlib -i https://pypi.douban.com/simple</span><br></pre></td></tr></table></figure>

<p>替换镜像源进行安装，下载速度可以提高几十倍</p>
<p>Anaconda Prompt和Anaconda Powershell Prompt的区别：Powershell支持的命令更多，比如查询路径的命令pwd和列表命令ls。</p>
<h3 id="Matplotlib的简单使用"><a href="#Matplotlib的简单使用" class="headerlink" title="Matplotlib的简单使用"></a>Matplotlib的简单使用</h3><p>在Anaconda中打开Jupyter Notebook</p>
<p>在New中选择Python3即可跳转到新页面写Python代码</p>
<p>为了使用Matplotlib库绘制图表，需要导入numpy库一同使用</p>
<p>输入以下代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">xpoints = np.array([0,6])</span><br><span class="line">ypoints = np.array([0,100])</span><br><span class="line">plt.plot(xpoints, ypoints)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>返回效果图</p>
<p><img src="/2022/05/05/Anaconda%E4%B9%8Bmatplotlib%E5%BA%93%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8ARead-timed-out-Error%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/image-20220505183700806.png"></p>
<p>输入以下代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure(facecolor=&quot;lightgrey&quot;)</span><br><span class="line">plt.rcParams[&#x27;font.family&#x27;]=[&#x27;STFangsong&#x27;]</span><br><span class="line"></span><br><span class="line">plt.subplot(221)</span><br><span class="line">plt.title(&quot;title1&quot;)</span><br><span class="line">plt.subplot(222)</span><br><span class="line">plt.title(&quot;title2&quot;, loc=&quot;left&quot;,color=&quot;r&quot;)</span><br><span class="line">plt.subplot(223)</span><br><span class="line">plt.title(&quot;title3&quot;, rotation=15)</span><br><span class="line">plt.subplot(224)</span><br><span class="line">plt.title(&quot;title4&quot;, color=&quot;w&quot;,backgroundcolor=&quot;b&quot;)</span><br><span class="line"></span><br><span class="line">plt.suptitle(&quot;suptitle&quot;, backgroundcolor=&quot;y&quot;,fontsize=24, color=&quot;r&quot;)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>返回效果图</p>
<p><img src="/2022/05/05/Anaconda%E4%B9%8Bmatplotlib%E5%BA%93%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8ARead-timed-out-Error%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/image-20220505183743723.png"></p>
<p>注意：title中的值不能为中文，否则会报错</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/04/Hexo%E6%9B%B4%E6%96%B0%E5%8D%9A%E5%AE%A2%E6%8C%87%E4%BB%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/04/Hexo%E6%9B%B4%E6%96%B0%E5%8D%9A%E5%AE%A2%E6%8C%87%E4%BB%A4/" class="post-title-link" itemprop="url">Hexo更新博客指令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-04 20:21:17" itemprop="dateCreated datePublished" datetime="2022-05-04T20:21:17+08:00">2022-05-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-11 13:30:21" itemprop="dateModified" datetime="2022-05-11T13:30:21+08:00">2022-05-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>通过Hexo更新GitHub Pages博客</p>
<h3 id="生成新博客"><a href="#生成新博客" class="headerlink" title="生成新博客"></a>生成新博客</h3><p>打开cmd，进入博客所在文件夹</p>
<p>输入以下命令行</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> <span class="string">&quot;Title&quot;</span></span><br></pre></td></tr></table></figure>

<p>输入完成后，在source文件夹下的_posts文件夹中生成一个”Title”.md文件</p>
<h3 id="博客发布"><a href="#博客发布" class="headerlink" title="博客发布"></a>博客发布</h3><p>使用markdown编辑完.md文件后，在cmd中继续输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure>

<p>此代码可以生成页面，然后输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p>输入此行代码可以本地预览，通过localhost:4000，可以查看博客本地预览效果</p>
<h3 id="同步到GitHub"><a href="#同步到GitHub" class="headerlink" title="同步到GitHub"></a>同步到GitHub</h3><p>在cmd中输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure>

<p>部署到GitHub Pages页面</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
